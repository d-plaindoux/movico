class Function[a b] this:(a -> b) {
    (<<) : a -> b
    (@) : [c] Function[b c] -> (a -> c)
} {
    def (<<) a = this a
    def (@) g a = g << (self << a)
}

class Main this:unit {
    run : unit -> unit    
} {
    def run = Function self.run @ $ Function $ self run
}
