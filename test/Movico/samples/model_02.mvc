// Simple example with a model and a view 

model xml

model string {
    xml : xml
}

model list[a] {
    (+) : a -> list[a]
    map : [b] (a -> b) -> list[b]
    xml : xml
}

model number {
    string : string
}

model Todo {
    date  : number
    value : string
}

/**
 * Todo set controller
 */

class todos this:list[Todo] {
    return : list[Todo]
    change : number -> string -> todos    
} {
    def return = this
    def change d w = self $ this + $ Todo d w
}

/**
 * View for rendering
 */

view TodoSetView this:todos {
    <div> 
        [ TodoView t for t in this.return ].xml
    </div>
} 

view TodoView this:Todo {
    <div class="todo" when=this.date.string> this.value.xml </div>
} 
