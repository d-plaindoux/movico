/*
 * Movico
 * https://github.com/d-plaindoux/movico
 *
 * Copyright (c) 2015 Didier Plaindoux
 * Licensed under the LGPL2 license.
 */
 
module Core.Trampoline
 
type Trampoline[A] {
    model Done { _ : A }
    model More { _ : unit -> Trampoline[A] }
}
 
class trampoline[A] this:Trampoline[A] {
    run : A
} {
    def Done.run = this._
    def More.run = self (this._ ()) run
}
